---
import Layout from '../../layouts/Layout.astro';

// Blog posts data - in production, this would come from content collections
const blogPosts: Record<string, {
  title: string;
  excerpt: string;
  date: string;
  readingTime: string;
  image: string;
  category: string;
  content: string;
}> = {
  'sample-post': {
    title: 'The Art of Adventure Travel Without Roughing It',
    excerpt: 'Discover how to experience authentic adventures while maintaining the comfort and quality you deserve. From boutique lodges to curated experiences.',
    date: '2025-01-10',
    readingTime: '5 min read',
    image: 'https://images.unsplash.com/photo-1501555088652-021faa106b9b?auto=format&fit=crop&w=1600&q=80',
    category: 'Travel Philosophy',
    content: `
      <p class="lead">There is a common misconception that true adventure requires discomfort. That to really experience a destination, you need to sleep on the ground, eat questionable food, and push yourself to physical extremes. I am here to tell you that is simply not true.</p>

      <h2>Redefining Adventure</h2>
      <p>Adventure is about new experiences, personal growth, and connecting with places that move you. It is about stepping outside your comfort zone in ways that matter to you. For some, that might mean summiting a challenging peak. For others, it could be navigating a new culture, trying unfamiliar cuisines, or simply being present in nature far from the demands of daily life.</p>

      <p>What adventure does not require is suffering. In fact, I would argue that exhaustion and discomfort can actually detract from the experience. When you are worried about where your next meal is coming from or whether you will get any sleep, you miss the subtle beauty of the sunset over the mountains or the fascinating conversation with a local guide.</p>

      <h2>The Boutique Lodge Revolution</h2>
      <p>The travel industry has evolved remarkably over the past decade. Today, some of the most remote and wild destinations on Earth are accessible through boutique lodges and camps that offer genuine luxury without compromising on authenticity.</p>

      <p>Consider Patagonia. You can spend your days trekking through some of the most dramatic landscapes on the planet, hiking alongside glaciers and through ancient forests. Then return each evening to a beautifully designed lodge with farm-to-table dining, local wines, and views that rival anything you saw on the trail. This is not roughing it. This is adventure elevated.</p>

      <blockquote>
        <p>"The best adventures are the ones where you challenge your mind and spirit, not just your physical endurance."</p>
      </blockquote>

      <h2>Curated Experiences vs. DIY Travel</h2>
      <p>There is absolutely a place for independent travel, for wandering without a plan and seeing where the road takes you. But for many destinations and many travelers, a curated experience actually provides more authentic access.</p>

      <p>A good travel advisor or tour operator has relationships with local guides, access to experiences that are not available to walk-up visitors, and the knowledge to get you to the right places at the right times. They have already made the mistakes so you do not have to.</p>

      <h2>Finding Your Balance</h2>
      <p>The key is understanding what you actually want from a trip. Ask yourself:</p>

      <ul>
        <li>What experiences am I most excited about?</li>
        <li>What would make me anxious or uncomfortable in a way that detracts from enjoyment?</li>
        <li>How important is downtime and recovery between activities?</li>
        <li>What does "adventure" mean to me personally?</li>
      </ul>

      <p>There are no wrong answers here. Your perfect adventure might look completely different from mine, and that is exactly as it should be.</p>

      <h2>The Wyld Wandering Approach</h2>
      <p>This philosophy is at the heart of how I work with my clients. I believe everyone deserves access to transformative travel experiences, and that those experiences should not require you to sacrifice your wellbeing or ignore your personal preferences.</p>

      <p>Whether you dream of photographing wildlife in the Galapagos, wine tasting in South America, or exploring the temples of Southeast Asia, there is a way to do it that honors both the adventure you seek and the comfort you deserve.</p>

      <p>Adventure travel with intention. That is what Wyld Wandering is all about.</p>
    `,
  },
  'patagonia-guide': {
    title: 'A Complete Guide to Patagonia: Timing, Trails, and Tips',
    excerpt: 'Everything you need to know about planning your Patagonia adventure. When to go, what to pack, and the experiences you cannot miss.',
    date: '2024-12-15',
    readingTime: '8 min read',
    image: 'https://images.unsplash.com/photo-1531761535209-180857e963b9?auto=format&fit=crop&w=1600&q=80',
    category: 'Destination Guide',
    content: `
      <p class="lead">Patagonia has long been on the bucket list of adventure travelers worldwide, and for good reason. This region spanning southern Chile and Argentina offers some of the most dramatic landscapes on Earth.</p>

      <h2>When to Visit</h2>
      <p>The best time to visit Patagonia is during the Southern Hemisphere summer, from November to March. December through February offers the warmest temperatures and longest days, making it ideal for hiking and outdoor activities.</p>

      <p>Keep in mind that Patagonia is famous for its unpredictable weather. You can experience all four seasons in a single day, so come prepared for anything.</p>

      <h2>Must-See Destinations</h2>
      <p>Torres del Paine National Park in Chile is the crown jewel of Patagonia, featuring the iconic granite towers, pristine lakes, and diverse wildlife. The W Trek and O Circuit are world-renowned hiking routes that attract thousands of visitors each year.</p>

      <p>On the Argentine side, Los Glaciares National Park is home to the spectacular Perito Moreno Glacier, one of the few glaciers in the world that is still advancing.</p>

      <h2>Planning Your Trip</h2>
      <p>I recommend spending at least 10-14 days in Patagonia to truly experience the region. This allows time for both Chilean and Argentine Patagonia, with flexibility for weather delays.</p>
    `,
  },
  'sustainable-travel-tips': {
    title: '10 Ways to Travel More Sustainably in 2025',
    excerpt: 'Practical tips for reducing your environmental footprint while still having incredible travel experiences. Small changes, big impact.',
    date: '2024-11-28',
    readingTime: '6 min read',
    image: 'https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&w=1600&q=80',
    category: 'Travel Tips',
    content: `
      <p class="lead">Sustainable travel does not mean giving up on exploring the world. It means being more intentional about how we do it.</p>

      <h2>Simple Changes, Big Impact</h2>
      <p>From choosing direct flights to supporting local businesses, there are countless ways to reduce your environmental footprint while traveling. Here are ten practical tips you can implement on your next trip.</p>

      <p>The key is progress over perfection. You do not need to be a perfect sustainable traveler. Every positive choice makes a difference.</p>
    `,
  },
  'northern-california-hidden-gems': {
    title: 'Hidden Gems of Northern California: Local Favorites',
    excerpt: 'As a Northern California native, I share my favorite lesser-known spots for adventure seekers looking to explore closer to home.',
    date: '2024-11-10',
    readingTime: '7 min read',
    image: 'https://images.unsplash.com/photo-1449034446853-66c86144b0ad?auto=format&fit=crop&w=1600&q=80',
    category: 'Local Insights',
    content: `
      <p class="lead">Living in Northern California means having world-class adventure right in my backyard. From rugged coastlines to towering redwoods, this region offers endless opportunities for exploration.</p>

      <h2>Beyond the Tourist Trail</h2>
      <p>While places like Yosemite and Lake Tahoe attract millions of visitors each year, Northern California has countless lesser-known gems waiting to be discovered.</p>

      <p>These are the places where I go to reconnect with nature, find solitude, and remember why I fell in love with adventure travel in the first place.</p>
    `,
  },
};

// Generate static paths for all blog posts
export function getStaticPaths() {
  return [
    { params: { slug: 'sample-post' } },
    { params: { slug: 'patagonia-guide' } },
    { params: { slug: 'sustainable-travel-tips' } },
    { params: { slug: 'northern-california-hidden-gems' } },
  ];
}

const baseUrl = import.meta.env.BASE_URL;
const { slug } = Astro.params;

// Get current post
const post = blogPosts[slug as string];

// Handle 404
if (!post) {
  return Astro.redirect(`${baseUrl}blog`);
}

// Helper function to format dates
function formatDate(dateString: string): string {
  const date = new Date(dateString);
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
}

// Get related posts (excluding current)
const relatedPosts = Object.entries(blogPosts)
  .filter(([postSlug]) => postSlug !== slug)
  .slice(0, 2)
  .map(([postSlug, postData]) => ({ slug: postSlug, ...postData }));
---

<Layout
  title={post.title}
  description={post.excerpt}
>
  <article class="article">
    <!-- Article Header -->
    <header class="article-header">
      <div class="container-narrow">
        <!-- Back Link -->
        <a href={`${baseUrl}blog`} class="back-link">
          <svg class="back-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
          </svg>
          Back to Journal
        </a>

        <!-- Category -->
        <span class="article-category">{post.category}</span>

        <!-- Title -->
        <h1 class="article-title">{post.title}</h1>

        <!-- Meta -->
        <div class="article-meta">
          <div class="author-info">
            <div class="author-avatar">ZW</div>
            <span class="author-name">Zak Winnick</span>
          </div>
          <span class="meta-divider"></span>
          <time datetime={post.date}>{formatDate(post.date)}</time>
          <span class="meta-divider"></span>
          <span>{post.readingTime}</span>
        </div>
      </div>
    </header>

    <!-- Featured Image -->
    <div class="article-hero">
      <div class="hero-gradient-placeholder"></div>
      <img
        src={post.image}
        alt={post.title}
        class="hero-image"
        loading="eager"
      />
      <div class="hero-overlay"></div>
    </div>

    <!-- Article Content -->
    <div class="article-body">
      <div class="container-narrow">
        <div class="prose" set:html={post.content} />
      </div>
    </div>

    <!-- Author Box -->
    <aside class="author-box">
      <div class="container-narrow">
        <div class="author-box-inner">
          <div class="author-box-avatar">ZW</div>
          <div class="author-box-content">
            <h3 class="author-box-name">About Zak Winnick</h3>
            <p class="author-box-bio">
              Travel advisor based in Northern California, specializing in adventure travel with comfort.
              Helping wanderers explore the world without roughing it too much.
            </p>
            <a href={`${baseUrl}about`} class="author-box-link">
              Learn More
              <svg class="link-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </aside>
  </article>

  <!-- Related Posts -->
  {relatedPosts.length > 0 && (
    <section class="related-posts">
      <div class="container-wide section-padding">
        <h2 class="related-title">Continue Reading</h2>
        <div class="related-grid">
          {relatedPosts.map((relatedPost) => (
            <a href={`${baseUrl}blog/${relatedPost.slug}`} class="card related-card">
              <div class="related-image-container">
                <div class="related-gradient-placeholder"></div>
                <img
                  src={relatedPost.image}
                  alt={relatedPost.title}
                  class="related-image"
                  loading="lazy"
                />
              </div>
              <div class="related-content">
                <span class="related-category">{relatedPost.category}</span>
                <h3 class="related-card-title">{relatedPost.title}</h3>
                <p class="related-excerpt">{relatedPost.excerpt}</p>
                <div class="related-meta">
                  <time datetime={relatedPost.date}>{formatDate(relatedPost.date)}</time>
                  <span class="meta-divider"></span>
                  <span>{relatedPost.readingTime}</span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container-narrow section-padding">
      <h2 class="cta-title">Ready to Plan Your Adventure?</h2>
      <p class="cta-description">
        Let's create a journey that matches your sense of adventure with the comfort you deserve.
      </p>
      <a href={`${baseUrl}contact`} class="btn-secondary cta-button">
        Start Planning
      </a>
    </div>
  </section>
</Layout>

<style>
  /* Article Header */
  .article-header {
    background: var(--bg-secondary);
    padding: 3rem 0 4rem;
  }

  @media (min-width: 1024px) {
    .article-header {
      padding: 4rem 0 5rem;
    }
  }

  .back-link {
    display: inline-flex;
    align-items: center;
    font-family: 'Outfit', sans-serif;
    font-size: 0.9375rem;
    font-weight: 500;
    color: var(--accent);
    text-decoration: none;
    margin-bottom: 2rem;
    transition: color 0.3s ease;
  }

  .back-link:hover {
    color: var(--text-primary);
  }

  .back-icon {
    width: 1.25rem;
    height: 1.25rem;
    margin-right: 0.5rem;
    transition: transform 0.3s ease;
  }

  .back-link:hover .back-icon {
    transform: translateX(-4px);
  }

  .article-category {
    display: inline-block;
    font-family: 'Outfit', sans-serif;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--accent);
  }

  .article-title {
    font-family: 'Cormorant', serif;
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.15;
    margin: 1rem 0 0 0;
    max-width: 48rem;
  }

  .article-meta {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.75rem;
    margin-top: 1.5rem;
    font-family: 'Outfit', sans-serif;
    font-size: 0.9375rem;
    color: var(--text-secondary);
  }

  .author-info {
    display: flex;
    align-items: center;
    gap: 0.625rem;
  }

  .author-avatar {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: var(--accent);
    color: var(--bg-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.875rem;
  }

  .author-name {
    font-weight: 500;
    color: var(--text-primary);
  }

  .meta-divider {
    width: 4px;
    height: 4px;
    background: var(--border);
    border-radius: 50%;
  }

  /* Article Hero */
  .article-hero {
    position: relative;
    height: 40vh;
    min-height: 300px;
    max-height: 600px;
  }

  @media (min-width: 768px) {
    .article-hero {
      height: 50vh;
    }
  }

  @media (min-width: 1024px) {
    .article-hero {
      height: 60vh;
    }
  }

  .hero-gradient-placeholder {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, var(--accent) 0%, var(--bg-secondary) 100%);
  }

  .hero-image {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.2) 0%, transparent 50%);
  }

  /* Article Body */
  .article-body {
    background: var(--bg-primary);
    padding: 3rem 0 4rem;
  }

  @media (min-width: 1024px) {
    .article-body {
      padding: 4rem 0 5rem;
    }
  }

  /* Prose Styling - Editorial Typography */
  .prose {
    font-family: 'Outfit', sans-serif;
    font-size: 1.125rem;
    line-height: 1.75;
    color: var(--text-primary);
  }

  .prose :global(p) {
    margin-bottom: 1.5rem;
  }

  .prose :global(p.lead) {
    font-family: 'Cormorant', serif;
    font-size: 1.5rem;
    font-weight: 400;
    line-height: 1.5;
    color: var(--text-secondary);
    margin-bottom: 2.5rem;
  }

  @media (min-width: 768px) {
    .prose :global(p.lead) {
      font-size: 1.625rem;
    }
  }

  .prose :global(h2) {
    font-family: 'Cormorant', serif;
    font-size: 2rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-top: 3rem;
    margin-bottom: 1.25rem;
    line-height: 1.2;
  }

  @media (min-width: 768px) {
    .prose :global(h2) {
      font-size: 2.25rem;
    }
  }

  .prose :global(h3) {
    font-family: 'Cormorant', serif;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    line-height: 1.3;
  }

  @media (min-width: 768px) {
    .prose :global(h3) {
      font-size: 1.75rem;
    }
  }

  .prose :global(ul),
  .prose :global(ol) {
    margin-bottom: 1.5rem;
    padding-left: 1.5rem;
  }

  .prose :global(ul) {
    list-style-type: disc;
  }

  .prose :global(ol) {
    list-style-type: decimal;
  }

  .prose :global(li) {
    margin-bottom: 0.5rem;
    padding-left: 0.5rem;
  }

  .prose :global(li::marker) {
    color: var(--accent);
  }

  .prose :global(blockquote) {
    position: relative;
    margin: 2.5rem 0;
    padding: 1.5rem 0 1.5rem 2rem;
    border-left: 3px solid var(--accent);
  }

  .prose :global(blockquote p) {
    font-family: 'Cormorant', serif;
    font-size: 1.5rem;
    font-style: italic;
    font-weight: 500;
    line-height: 1.4;
    color: var(--text-secondary);
    margin-bottom: 0;
  }

  @media (min-width: 768px) {
    .prose :global(blockquote p) {
      font-size: 1.75rem;
    }
  }

  .prose :global(a) {
    color: var(--accent);
    text-decoration: underline;
    text-underline-offset: 2px;
    transition: color 0.3s ease;
  }

  .prose :global(a:hover) {
    color: var(--text-primary);
  }

  .prose :global(strong) {
    font-weight: 600;
    color: var(--text-primary);
  }

  .prose :global(em) {
    font-style: italic;
  }

  /* Author Box */
  .author-box {
    background: var(--bg-secondary);
    padding: 3rem 0;
  }

  .author-box-inner {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    align-items: flex-start;
  }

  @media (min-width: 768px) {
    .author-box-inner {
      flex-direction: row;
      align-items: center;
    }
  }

  .author-box-avatar {
    width: 5rem;
    height: 5rem;
    border-radius: 50%;
    background: var(--accent);
    color: var(--bg-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Outfit', sans-serif;
    font-weight: 600;
    font-size: 1.5rem;
    flex-shrink: 0;
  }

  .author-box-content {
    flex: 1;
  }

  .author-box-name {
    font-family: 'Cormorant', serif;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
  }

  .author-box-bio {
    font-family: 'Outfit', sans-serif;
    font-size: 1rem;
    color: var(--text-secondary);
    line-height: 1.6;
    margin-top: 0.5rem;
  }

  .author-box-link {
    display: inline-flex;
    align-items: center;
    font-family: 'Outfit', sans-serif;
    font-size: 0.9375rem;
    font-weight: 500;
    color: var(--accent);
    text-decoration: none;
    margin-top: 1rem;
    transition: color 0.3s ease;
  }

  .author-box-link:hover {
    color: var(--text-primary);
  }

  .link-icon {
    width: 1rem;
    height: 1rem;
    margin-left: 0.375rem;
    transition: transform 0.3s ease;
  }

  .author-box-link:hover .link-icon {
    transform: translateX(4px);
  }

  /* Related Posts */
  .related-posts {
    background: var(--bg-primary);
    border-top: 1px solid var(--border);
  }

  .related-title {
    font-family: 'Cormorant', serif;
    font-size: 2rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 2rem 0;
  }

  .related-grid {
    display: grid;
    gap: 2rem;
  }

  @media (min-width: 768px) {
    .related-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .related-card {
    display: block;
    text-decoration: none;
    color: inherit;
    background: var(--bg-secondary);
    border-radius: 1rem;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .related-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);
  }

  .related-image-container {
    position: relative;
    aspect-ratio: 16 / 9;
    overflow: hidden;
  }

  .related-gradient-placeholder {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, var(--accent) 0%, var(--bg-secondary) 100%);
  }

  .related-image {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
  }

  .related-card:hover .related-image {
    transform: scale(1.05);
  }

  .related-content {
    padding: 1.5rem;
  }

  .related-category {
    display: inline-block;
    font-family: 'Outfit', sans-serif;
    font-size: 0.6875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--accent);
  }

  .related-card-title {
    font-family: 'Cormorant', serif;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.3;
    margin: 0.5rem 0 0 0;
    transition: color 0.3s ease;
  }

  .related-card:hover .related-card-title {
    color: var(--accent);
  }

  .related-excerpt {
    font-family: 'Outfit', sans-serif;
    font-size: 0.9375rem;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-top: 0.75rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .related-meta {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    margin-top: 1rem;
    font-family: 'Outfit', sans-serif;
    font-size: 0.8125rem;
    color: var(--text-secondary);
  }

  /* CTA Section */
  .cta-section {
    background: var(--bg-secondary);
    text-align: center;
  }

  .cta-title {
    font-family: 'Cormorant', serif;
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
  }

  .cta-description {
    font-family: 'Outfit', sans-serif;
    font-size: 1.125rem;
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 1rem auto 0;
    max-width: 32rem;
  }

  .cta-button {
    margin-top: 2rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 2rem;
  }
</style>

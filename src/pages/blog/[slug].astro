---
import Layout from '../../layouts/Layout.astro';

// Blog posts data - in production, this would come from content collections
const blogPosts: Record<string, {
  title: string;
  excerpt: string;
  date: string;
  readingTime: string;
  image: string;
  category: string;
  content: string;
}> = {
  'sample-post': {
    title: 'The Art of Adventure Travel Without Roughing It',
    excerpt: 'Discover how to experience authentic adventures while maintaining the comfort and quality you deserve. From boutique lodges to curated experiences.',
    date: '2025-01-10',
    readingTime: '5 min read',
    image: 'https://images.unsplash.com/photo-1501555088652-021faa106b9b?auto=format&fit=crop&w=1600&q=80',
    category: 'Travel Philosophy',
    content: `
      <p class="lead">There is a common misconception that true adventure requires discomfort. That to really experience a destination, you need to sleep on the ground, eat questionable food, and push yourself to physical extremes. I am here to tell you that is simply not true.</p>

      <h2>Redefining Adventure</h2>
      <p>Adventure is about new experiences, personal growth, and connecting with places that move you. It is about stepping outside your comfort zone in ways that matter to you. For some, that might mean summiting a challenging peak. For others, it could be navigating a new culture, trying unfamiliar cuisines, or simply being present in nature far from the demands of daily life.</p>

      <p>What adventure does not require is suffering. In fact, I would argue that exhaustion and discomfort can actually detract from the experience. When you are worried about where your next meal is coming from or whether you will get any sleep, you miss the subtle beauty of the sunset over the mountains or the fascinating conversation with a local guide.</p>

      <h2>The Boutique Lodge Revolution</h2>
      <p>The travel industry has evolved remarkably over the past decade. Today, some of the most remote and wild destinations on Earth are accessible through boutique lodges and camps that offer genuine luxury without compromising on authenticity.</p>

      <p>Consider Patagonia. You can spend your days trekking through some of the most dramatic landscapes on the planet, hiking alongside glaciers and through ancient forests. Then return each evening to a beautifully designed lodge with farm-to-table dining, local wines, and views that rival anything you saw on the trail. This is not roughing it. This is adventure elevated.</p>

      <blockquote>
        <p>"The best adventures are the ones where you challenge your mind and spirit, not just your physical endurance."</p>
      </blockquote>

      <h2>Curated Experiences vs. DIY Travel</h2>
      <p>There is absolutely a place for independent travel, for wandering without a plan and seeing where the road takes you. But for many destinations and many travelers, a curated experience actually provides more authentic access.</p>

      <p>A good travel advisor or tour operator has relationships with local guides, access to experiences that are not available to walk-up visitors, and the knowledge to get you to the right places at the right times. They have already made the mistakes so you do not have to.</p>

      <h2>Finding Your Balance</h2>
      <p>The key is understanding what you actually want from a trip. Ask yourself:</p>

      <ul>
        <li>What experiences am I most excited about?</li>
        <li>What would make me anxious or uncomfortable in a way that detracts from enjoyment?</li>
        <li>How important is downtime and recovery between activities?</li>
        <li>What does "adventure" mean to me personally?</li>
      </ul>

      <p>There are no wrong answers here. Your perfect adventure might look completely different from mine, and that is exactly as it should be.</p>

      <h2>The Wyld Wandering Approach</h2>
      <p>This philosophy is at the heart of how I work with my clients. I believe everyone deserves access to transformative travel experiences, and that those experiences should not require you to sacrifice your wellbeing or ignore your personal preferences.</p>

      <p>Whether you dream of photographing wildlife in the Galapagos, wine tasting in South America, or exploring the temples of Southeast Asia, there is a way to do it that honors both the adventure you seek and the comfort you deserve.</p>

      <p>Adventure travel with intention. That is what Wyld Wandering is all about.</p>
    `,
  },
  'patagonia-guide': {
    title: 'A Complete Guide to Patagonia: Timing, Trails, and Tips',
    excerpt: 'Everything you need to know about planning your Patagonia adventure. When to go, what to pack, and the experiences you cannot miss.',
    date: '2024-12-15',
    readingTime: '8 min read',
    image: 'https://images.unsplash.com/photo-1531761535209-180857e963b9?auto=format&fit=crop&w=1600&q=80',
    category: 'Destination Guide',
    content: `
      <p class="lead">Patagonia has long been on the bucket list of adventure travelers worldwide, and for good reason. This region spanning southern Chile and Argentina offers some of the most dramatic landscapes on Earth.</p>

      <h2>When to Visit</h2>
      <p>The best time to visit Patagonia is during the Southern Hemisphere summer, from November to March. December through February offers the warmest temperatures and longest days, making it ideal for hiking and outdoor activities.</p>

      <p>Keep in mind that Patagonia is famous for its unpredictable weather. You can experience all four seasons in a single day, so come prepared for anything.</p>

      <h2>Must-See Destinations</h2>
      <p>Torres del Paine National Park in Chile is the crown jewel of Patagonia, featuring the iconic granite towers, pristine lakes, and diverse wildlife. The W Trek and O Circuit are world-renowned hiking routes that attract thousands of visitors each year.</p>

      <p>On the Argentine side, Los Glaciares National Park is home to the spectacular Perito Moreno Glacier, one of the few glaciers in the world that is still advancing.</p>

      <h2>Planning Your Trip</h2>
      <p>I recommend spending at least 10-14 days in Patagonia to truly experience the region. This allows time for both Chilean and Argentine Patagonia, with flexibility for weather delays.</p>
    `,
  },
  'sustainable-travel-tips': {
    title: '10 Ways to Travel More Sustainably in 2025',
    excerpt: 'Practical tips for reducing your environmental footprint while still having incredible travel experiences. Small changes, big impact.',
    date: '2024-11-28',
    readingTime: '6 min read',
    image: 'https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&w=1600&q=80',
    category: 'Travel Tips',
    content: `
      <p class="lead">Sustainable travel does not mean giving up on exploring the world. It means being more intentional about how we do it.</p>

      <h2>Simple Changes, Big Impact</h2>
      <p>From choosing direct flights to supporting local businesses, there are countless ways to reduce your environmental footprint while traveling. Here are ten practical tips you can implement on your next trip.</p>

      <p>The key is progress over perfection. You do not need to be a perfect sustainable traveler. Every positive choice makes a difference.</p>
    `,
  },
  'northern-california-hidden-gems': {
    title: 'Hidden Gems of Northern California: Local Favorites',
    excerpt: 'As a Northern California native, I share my favorite lesser-known spots for adventure seekers looking to explore closer to home.',
    date: '2024-11-10',
    readingTime: '7 min read',
    image: 'https://images.unsplash.com/photo-1449034446853-66c86144b0ad?auto=format&fit=crop&w=1600&q=80',
    category: 'Local Insights',
    content: `
      <p class="lead">Living in Northern California means having world-class adventure right in my backyard. From rugged coastlines to towering redwoods, this region offers endless opportunities for exploration.</p>

      <h2>Beyond the Tourist Trail</h2>
      <p>While places like Yosemite and Lake Tahoe attract millions of visitors each year, Northern California has countless lesser-known gems waiting to be discovered.</p>

      <p>These are the places where I go to reconnect with nature, find solitude, and remember why I fell in love with adventure travel in the first place.</p>
    `,
  },
};

// Generate static paths for all blog posts
export function getStaticPaths() {
  return [
    { params: { slug: 'sample-post' } },
    { params: { slug: 'patagonia-guide' } },
    { params: { slug: 'sustainable-travel-tips' } },
    { params: { slug: 'northern-california-hidden-gems' } },
  ];
}

const baseUrl = import.meta.env.BASE_URL;
const { slug } = Astro.params;

// Get current post
const post = blogPosts[slug as string];

// Handle 404
if (!post) {
  return Astro.redirect(`${baseUrl}blog`);
}

// Helper function to format dates
function formatDate(dateString: string): string {
  const date = new Date(dateString);
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
}

// Get related posts (excluding current)
const relatedPosts = Object.entries(blogPosts)
  .filter(([postSlug]) => postSlug !== slug)
  .slice(0, 2)
  .map(([postSlug, postData]) => ({ slug: postSlug, ...postData }));
---

<Layout
  title={post.title}
  description={post.excerpt}
>
  <article>
    <!-- Article Header -->
    <header class="bg-cream-100 dark:bg-forest-900 py-12 lg:py-16">
      <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Back Link -->
        <a href={`${baseUrl}blog`} class="inline-flex items-center font-sans text-sm font-medium text-terracotta-500 dark:text-amber-400 mb-8 transition-colors duration-300 hover:text-charcoal-900 dark:hover:text-cream-50 group">
          <svg class="w-5 h-5 mr-2 transition-transform duration-300 group-hover:-translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
          </svg>
          Back to Journal
        </a>

        <!-- Category -->
        <span class="inline-block font-sans text-xs font-semibold uppercase tracking-widest text-terracotta-500 dark:text-amber-400">
          {post.category}
        </span>

        <!-- Title -->
        <h1 class="font-serif text-3xl md:text-4xl lg:text-5xl font-semibold text-charcoal-900 dark:text-cream-50 leading-tight mt-4 max-w-3xl">
          {post.title}
        </h1>

        <!-- Meta -->
        <div class="flex flex-wrap items-center gap-3 mt-6 font-sans text-sm text-charcoal-600 dark:text-cream-200">
          <div class="flex items-center gap-2.5">
            <div class="w-10 h-10 rounded-full bg-terracotta-500 dark:bg-amber-400 text-white dark:text-forest-950 flex items-center justify-center font-semibold text-sm">
              ZW
            </div>
            <span class="font-medium text-charcoal-900 dark:text-cream-50">Zak Winnick</span>
          </div>
          <span class="w-1 h-1 bg-charcoal-300 dark:bg-cream-600 rounded-full"></span>
          <time datetime={post.date}>{formatDate(post.date)}</time>
          <span class="w-1 h-1 bg-charcoal-300 dark:bg-cream-600 rounded-full"></span>
          <span>{post.readingTime}</span>
        </div>
      </div>
    </header>

    <!-- Featured Image -->
    <div class="relative h-[40vh] min-h-[300px] max-h-[600px] md:h-[50vh] lg:h-[60vh]">
      <div class="absolute inset-0 bg-gradient-to-br from-terracotta-500 to-cream-200 dark:from-amber-400 dark:to-forest-800"></div>
      <img
        src={post.image}
        alt={post.title}
        class="absolute inset-0 w-full h-full object-cover"
        loading="eager"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
    </div>

    <!-- Article Content -->
    <div class="bg-cream-50 dark:bg-forest-950 py-12 lg:py-16">
      <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="prose-content" set:html={post.content} />
      </div>
    </div>

    <!-- Author Box -->
    <aside class="bg-cream-100 dark:bg-forest-900 py-12">
      <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col md:flex-row gap-6 items-start md:items-center">
          <div class="w-20 h-20 rounded-full bg-terracotta-500 dark:bg-amber-400 text-white dark:text-forest-950 flex items-center justify-center font-sans font-semibold text-2xl flex-shrink-0">
            ZW
          </div>
          <div class="flex-1">
            <h3 class="font-serif text-2xl font-semibold text-charcoal-900 dark:text-cream-50">
              About Zak Winnick
            </h3>
            <p class="font-sans text-base text-charcoal-600 dark:text-cream-200 leading-relaxed mt-2">
              Travel advisor based in Northern California, specializing in adventure travel with comfort.
              Helping wanderers explore the world without roughing it too much.
            </p>
            <a href={`${baseUrl}about`} class="inline-flex items-center font-sans text-sm font-medium text-terracotta-500 dark:text-amber-400 mt-4 transition-colors duration-300 hover:text-charcoal-900 dark:hover:text-cream-50 group">
              Learn More
              <svg class="w-4 h-4 ml-1.5 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </aside>
  </article>

  <!-- Related Posts -->
  {relatedPosts.length > 0 && (
    <section class="bg-cream-50 dark:bg-forest-950 border-t border-charcoal-200 dark:border-forest-800 py-16 lg:py-24 px-4 sm:px-6 lg:px-8">
      <div class="max-w-7xl mx-auto">
        <h2 class="font-serif text-3xl font-semibold text-charcoal-900 dark:text-cream-50 mb-8">
          Continue Reading
        </h2>
        <div class="grid gap-8 md:grid-cols-2">
          {relatedPosts.map((relatedPost) => (
            <a href={`${baseUrl}blog/${relatedPost.slug}`} class="group block bg-cream-100 dark:bg-forest-900 rounded-2xl overflow-hidden transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
              <div class="relative aspect-video overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-br from-terracotta-500 to-cream-200 dark:from-amber-400 dark:to-forest-800"></div>
                <img
                  src={relatedPost.image}
                  alt={relatedPost.title}
                  class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                  loading="lazy"
                />
              </div>
              <div class="p-6">
                <span class="inline-block font-sans text-xs font-semibold uppercase tracking-widest text-terracotta-500 dark:text-amber-400">
                  {relatedPost.category}
                </span>
                <h3 class="font-serif text-xl font-semibold text-charcoal-900 dark:text-cream-50 leading-snug mt-2 transition-colors duration-300 group-hover:text-terracotta-500 dark:group-hover:text-amber-400">
                  {relatedPost.title}
                </h3>
                <p class="font-sans text-sm text-charcoal-600 dark:text-cream-200 leading-relaxed mt-3 line-clamp-2">
                  {relatedPost.excerpt}
                </p>
                <div class="flex items-center gap-2.5 mt-4 font-sans text-xs text-charcoal-600 dark:text-cream-200">
                  <time datetime={relatedPost.date}>{formatDate(relatedPost.date)}</time>
                  <span class="w-1 h-1 bg-charcoal-300 dark:bg-cream-600 rounded-full"></span>
                  <span>{relatedPost.readingTime}</span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- CTA Section -->
  <section class="bg-cream-100 dark:bg-forest-900 py-16 lg:py-24 px-4 sm:px-6 lg:px-8 text-center">
    <div class="max-w-3xl mx-auto">
      <h2 class="font-serif text-2xl md:text-3xl font-semibold text-charcoal-900 dark:text-cream-50">
        Ready to Plan Your Adventure?
      </h2>
      <p class="font-sans text-lg text-charcoal-600 dark:text-cream-200 leading-relaxed mt-4 max-w-lg mx-auto">
        Let's create a journey that matches your sense of adventure with the comfort you deserve.
      </p>
      <a href={`${baseUrl}contact`} class="inline-flex items-center justify-center px-8 py-4 mt-8 bg-transparent border-2 border-terracotta-500 dark:border-amber-400 text-terracotta-500 dark:text-amber-400 font-sans font-medium rounded-lg transition-all duration-300 hover:bg-terracotta-500 dark:hover:bg-amber-400 hover:text-white dark:hover:text-forest-950">
        Start Planning
      </a>
    </div>
  </section>
</Layout>

<style>
  /* Prose Content Styling - Using Tailwind-compatible approach */
  .prose-content {
    @apply font-sans text-lg leading-relaxed text-charcoal-900 dark:text-cream-50;
  }

  .prose-content :global(p) {
    @apply mb-6;
  }

  .prose-content :global(p.lead) {
    @apply font-serif text-2xl md:text-[1.625rem] font-normal leading-relaxed text-charcoal-600 dark:text-cream-200 mb-10;
  }

  .prose-content :global(h2) {
    @apply font-serif text-3xl md:text-4xl font-semibold text-charcoal-900 dark:text-cream-50 mt-12 mb-5 leading-tight;
  }

  .prose-content :global(h3) {
    @apply font-serif text-2xl md:text-[1.75rem] font-semibold text-charcoal-900 dark:text-cream-50 mt-10 mb-4 leading-snug;
  }

  .prose-content :global(ul),
  .prose-content :global(ol) {
    @apply mb-6 pl-6;
  }

  .prose-content :global(ul) {
    @apply list-disc;
  }

  .prose-content :global(ol) {
    @apply list-decimal;
  }

  .prose-content :global(li) {
    @apply mb-2 pl-2;
  }

  .prose-content :global(li::marker) {
    @apply text-terracotta-500 dark:text-amber-400;
  }

  .prose-content :global(blockquote) {
    @apply relative my-10 py-6 pl-8 border-l-[3px] border-terracotta-500 dark:border-amber-400;
  }

  .prose-content :global(blockquote p) {
    @apply font-serif text-2xl md:text-[1.75rem] italic font-medium leading-snug text-charcoal-600 dark:text-cream-200 mb-0;
  }

  .prose-content :global(a) {
    @apply text-terracotta-500 dark:text-amber-400 underline underline-offset-2 transition-colors duration-300 hover:text-charcoal-900 dark:hover:text-cream-50;
  }

  .prose-content :global(strong) {
    @apply font-semibold text-charcoal-900 dark:text-cream-50;
  }

  .prose-content :global(em) {
    @apply italic;
  }
</style>

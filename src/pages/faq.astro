---
import Layout from '../layouts/Layout.astro';

const faqSections = [
  {
    title: "Working with a Travel Advisor",
    faqs: [
      {
        question: "How does working with you differ from booking myself?",
        answer: "When you book yourself, you're navigating endless options and hoping for the best. As your travel advisor, I bring expertise, insider connections, and genuine relationships with the world's best hotels. I handle the research, the details, and the things you didn't know to ask for. Plus, I have access to exclusive perks, upgrades, and amenities that aren't available when you book directly. Same room, same rate, but with benefits that actually make a difference."
      },
      {
        question: "What does it cost to use your services?",
        answer: "I charge a planning fee based on the scope of work: $500 for hotel and flights, $1,000 for a full itinerary including restaurants and experiences, and a custom quote for groups, events, or multi-country trips. The fee covers everything from research to booking to ongoing support throughout your trip. Once you've booked $40,000 in travel with me, the fee drops to a flat $250 for any scope."
      },
      {
        question: "How do you get paid?",
        answer: "Two ways: a planning fee that covers my time and expertise, and commissions from hotels and travel partners when I book through them. The commission structure means you pay the same room rates as booking direct, but you get access to upgrades, resort credits, and amenities you wouldn't get on your own. It's how the industry works, and it allows me to dedicate real time to crafting trips that actually deliver."
      }
    ]
  },
  {
    title: "Planning Process",
    faqs: [
      {
        question: "How far in advance should I book?",
        answer: "It depends on where you want to go and when. For popular destinations during peak seasons, 6-12 months in advance helps secure the best rooms and reservations. For high-demand experiences like Michelin restaurants, exclusive tours, or sought-after suites, even earlier is better. Last-minute trips can work too, but you may have fewer options. The earlier we start, the more doors I can open."
      },
      {
        question: "What information do you need to plan my trip?",
        answer: "To get started, I'll want to understand your travel dates, budget range, destinations you're considering, and how you like to travel. I'll ask about your interests, what your ideal day looks like, and what you absolutely want to avoid. The more you share about what makes a trip feel worth it to you, the better I can tailor every detail."
      },
      {
        question: "How long does the planning process take?",
        answer: "A straightforward trip might come together in 1-2 weeks, while a complex multi-destination itinerary could take 4-6 weeks. After our initial conversation, I'll provide a preliminary itinerary within a week. From there, we refine together until everything feels right. I believe in thorough planning. The kind that means you never have to wonder 'what if we had done this instead.'"
      }
    ]
  },
  {
    title: "Trip Types",
    faqs: [
      {
        question: "What kind of trips do you specialize in?",
        answer: "I specialize in premium travel experiences. The kind where every detail has been considered. Luxury hotels with actual perks, restaurants that are worth the hype, and experiences that feel curated rather than packaged. Whether it's a European escape, a beach retreat, a city break, or a special occasion trip, I focus on creating journeys that deliver on their promise."
      },
      {
        question: "Do you plan trips anywhere in the world?",
        answer: "Yes. While I have particular expertise in certain destinations, I work with travelers planning trips across the globe. From the Amalfi Coast to Tokyo, Maldives to Patagonia. Wherever you want to go, I have the relationships and resources to make it happen the right way."
      },
      {
        question: "Can you help with just a hotel booking?",
        answer: "Absolutely. Through my partnerships with luxury hotel programs, I can secure complimentary upgrades, resort credits, early check-in, late checkout, and other VIP amenities at top properties worldwide. Even if you just need one exceptional hotel stay (not a full trip), I'm here to help. These perks come at no extra cost to you."
      }
    ]
  },
  {
    title: "Logistics",
    faqs: [
      {
        question: "What happens if something goes wrong during my trip?",
        answer: "This is where having a travel advisor really matters. If flights get canceled, hotels have issues, or unexpected situations arise, you have me in your corner. I monitor your trips and am available to troubleshoot and rearrange plans when needed. Unlike booking platforms where you're just a confirmation number, you have a real person who knows your itinerary inside and out and can advocate on your behalf."
      },
      {
        question: "Do you handle flights and transportation?",
        answer: "Yes. I can book flights, airport transfers, car rentals, trains, and other transportation as part of your trip. I look for the best routes and values while considering how your flights connect with the rest of your itinerary. For some travelers, I recommend booking flights separately to use points or miles. I'm happy to advise on what makes sense for your situation."
      },
      {
        question: "What about travel insurance?",
        answer: "I strongly recommend travel insurance for every trip and can help you understand your options. While I don't sell insurance directly, I'll point you toward reputable providers and help you figure out what coverage makes sense. Having the right insurance provides peace of mind and protects your investment."
      }
    ]
  }
];
---

<Layout title="Frequently Asked Questions" description="Get answers to common questions about working with Wyld Wandering for premium travel planning.">
  <!-- Hero Section -->
  <section class="relative min-h-[50vh] flex items-center bg-charcoal-900">
    <div class="absolute inset-0 bg-gradient-to-br from-charcoal-900 via-forest-900 to-charcoal-800"></div>
    <div class="relative z-10 max-w-3xl mx-auto px-6 py-32 text-center">
      <span class="inline-block font-sans text-xs font-medium tracking-[0.2em] uppercase text-terracotta-400 mb-6">
        Questions & Answers
      </span>
      <h1 class="font-display text-5xl md:text-6xl lg:text-7xl text-cream-50 leading-[0.95] mb-6">
        The Details,<br />
        <span class="italic text-terracotta-400">Explained</span>
      </h1>
      <p class="font-sans text-lg leading-relaxed text-cream-200 max-w-xl mx-auto">
        Curious about how working with a travel advisor actually works? Here's what you need to know.
      </p>
    </div>
  </section>

  <!-- FAQ Sections -->
  <section class="bg-cream-50 dark:bg-forest-950 py-20 md:py-28">
    <div class="max-w-3xl mx-auto px-6">
      {faqSections.map((section, sectionIndex) => (
        <div class="mb-16 last:mb-0" data-section={sectionIndex}>
          <div class="flex items-baseline gap-4 mb-6 pb-4 border-b border-charcoal-200 dark:border-forest-700">
            <span class="font-sans text-xs font-medium tracking-wide text-terracotta-500 dark:text-amber-400">
              {String(sectionIndex + 1).padStart(2, '0')}
            </span>
            <h2 class="font-serif text-2xl md:text-3xl font-medium text-charcoal-900 dark:text-cream-50">
              {section.title}
            </h2>
          </div>
          <div class="flex flex-col">
            {section.faqs.map((faq, faqIndex) => (
              <div
                class="faq-item border-b border-charcoal-200 dark:border-forest-700 hover:bg-cream-100/50 dark:hover:bg-forest-900/50 rounded-2xl transition-all duration-300 px-4"
                data-section={sectionIndex}
                data-faq={faqIndex}
              >
                <button
                  class="faq-trigger w-full flex items-center justify-between gap-4 md:gap-8 py-6 text-left group"
                  aria-expanded="false"
                  aria-controls={`faq-content-${sectionIndex}-${faqIndex}`}
                >
                  <span class="font-sans text-base md:text-lg font-medium text-charcoal-900 dark:text-cream-50 group-hover:text-terracotta-500 dark:group-hover:text-amber-400 transition-colors duration-300">
                    {faq.question}
                  </span>
                  <span class="faq-icon flex-shrink-0 w-6 h-6 flex items-center justify-center text-terracotta-500 dark:text-amber-400 transition-transform duration-400" aria-hidden="true">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M8 1V15M1 8H15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                  </span>
                </button>
                <div
                  class="faq-content grid grid-rows-[0fr] transition-[grid-template-rows] duration-400 ease-out"
                  id={`faq-content-${sectionIndex}-${faqIndex}`}
                  aria-hidden="true"
                >
                  <div class="overflow-hidden">
                    <p class="font-sans text-base leading-relaxed text-charcoal-600 dark:text-cream-200 pb-6 pr-0 md:pr-12">
                      {faq.answer}
                    </p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- CTA Section -->
  <section class="bg-cream-100 dark:bg-forest-900 py-20 md:py-28">
    <div class="max-w-xl mx-auto px-6 text-center">
      <h2 class="font-serif text-3xl md:text-4xl lg:text-5xl font-medium text-charcoal-900 dark:text-cream-50 mb-4">
        Still have questions?
      </h2>
      <p class="font-sans text-base md:text-lg leading-relaxed text-charcoal-600 dark:text-cream-200 mb-8">
        Let's start a conversation. Tell me where you want to go, and I'll handle the rest.
      </p>
      <a
        href="/contact"
        class="inline-flex items-center justify-center px-8 py-4 font-sans text-sm font-medium tracking-wide uppercase bg-terracotta-500 hover:bg-terracotta-600 dark:bg-amber-400 dark:hover:bg-amber-500 text-white dark:text-forest-950 rounded-full transition-colors duration-300"
      >
        Get in Touch
      </a>
    </div>
  </section>
</Layout>

<style>
  .faq-item.active .faq-icon {
    transform: rotate(45deg);
  }

  .faq-item.active .faq-content {
    grid-template-rows: 1fr;
  }

  .duration-400 {
    transition-duration: 400ms;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach((item) => {
      const trigger = item.querySelector('.faq-trigger');
      const content = item.querySelector('.faq-content');

      if (trigger && content) {
        trigger.addEventListener('click', () => {
          const isActive = item.classList.contains('active');
          const sectionIndex = item.getAttribute('data-section');

          // Close all other items in the same section
          const sectionItems = document.querySelectorAll(`.faq-item[data-section="${sectionIndex}"]`);
          sectionItems.forEach((sectionItem) => {
            if (sectionItem !== item) {
              sectionItem.classList.remove('active');
              const sectionTrigger = sectionItem.querySelector('.faq-trigger');
              const sectionContent = sectionItem.querySelector('.faq-content');
              if (sectionTrigger) {
                sectionTrigger.setAttribute('aria-expanded', 'false');
              }
              if (sectionContent) {
                sectionContent.setAttribute('aria-hidden', 'true');
              }
            }
          });

          // Toggle current item
          if (isActive) {
            item.classList.remove('active');
            trigger.setAttribute('aria-expanded', 'false');
            content.setAttribute('aria-hidden', 'true');
          } else {
            item.classList.add('active');
            trigger.setAttribute('aria-expanded', 'true');
            content.setAttribute('aria-hidden', 'false');
          }
        });

        // Keyboard accessibility
        trigger.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            (trigger as HTMLElement).click();
          }
        });
      }
    });
  });
</script>
